<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="description" content="Welcome to Mumbai University HUB, your one-stop destination for all university-related information, including syllabus, notes, GPA calculator, and progress tracking for engineering students.">
    <meta name="keywords" content="Mumbai University, MU HUB, syllabus, notes, GPA calculator, progress tracker, engineering, computer engineering, university resources">
    <title>Mumbai University HUB</title>
    <link rel="icon" href="mulogo.png" type="image/png">
    <script>
        
        function toggleTheme() {
            const body = document.body;
            const themeIcon = document.getElementById('theme-icon');
            const footer = document.querySelector('footer.footer');
            const logo = document.querySelector('.university-logo');
            const header = document.querySelector('header.navbar');
        
            // Toggle dark theme class
            body.classList.toggle('dark-theme');
            footer.classList.toggle('dark-theme');
            header.classList.toggle('dark-theme'); 
        
            // Change icon based on theme
            if (body.classList.contains('dark-theme')) {
                themeIcon.classList.remove('fa-sun'); // Remove sun icon
                themeIcon.classList.add('fa-moon'); // Add moon icon
                logo.style.filter = 'brightness(0) invert(1)'; // Change logo color for dark theme
                localStorage.setItem('theme', 'dark'); // Save theme preference
            } else {
                themeIcon.classList.remove('fa-moon'); // Remove moon icon
                themeIcon.classList.add('fa-sun'); // Add sun icon
                logo.style.filter = 'none'; // Reset logo color for light theme
                localStorage.setItem('theme', 'light'); // Save theme preference
            }
        }
        
        // Function to load the theme on page load
        function loadTheme() {
            const theme = localStorage.getItem('theme');
            const body = document.body;
            const themeIcon = document.getElementById('theme-icon');
            const footer = document.querySelector('footer.footer');
            const logo = document.querySelector('.university-logo');
            const header = document.querySelector('header.navbar');
        
            if (theme === 'dark') {
                body.classList.add('dark-theme');
                footer.classList.add('dark-theme');
                header.classList.add('dark-theme'); 
                themeIcon.classList.remove('fa-sun');
                themeIcon.classList.add('fa-moon');
                logo.style.filter = 'brightness(0) invert(1)'; // Change logo color for dark theme
            } else {
                body.classList.remove('dark-theme');
                footer.classList.remove('dark-theme');
                header.classList.remove('dark-theme'); 
                themeIcon.classList.remove('fa-moon');
                themeIcon.classList.add('fa-sun');
                logo.style.filter = 'none'; // Reset logo color for light theme
            }
        }
        
        // Call loadTheme on page load
        document.addEventListener('DOMContentLoaded', loadTheme);
        
            </script>



    
    <!-- Font Awesome for icons -->
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <!-- Readex Pro Font -->
    <link href="https://fonts.googleapis.com/css2?family=Readex+Pro:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="styles.css">

    

</head>

<body>
    <!-- Navbar -->
    <header class="navbar" onclick="updateActionCount()">
        <div class="logo">MU-HUB<span>.site</span></div>
        <div class="nav-actions">
            <div class="search-bar">
                <input type="text" id="search-input" placeholder="Search" oninput="filterResults()">
                <button onclick="updateActionCount()"><i class="fas fa-search"></i></button>
                <div class="search-results" id="search-results"></div>
            </div>
            <a href="contact.html" class="contact-link" onclick="updateActionCount()">Contact</a>
            <button id="theme-toggle" onclick="toggleTheme()">
                <i id="theme-icon" class="fas fa-sun"></i>
            </button>
        </div>

    </header>

    <!-- Main Content -->
    <main class="main-content">
       <br><h1>Welcome to the Mumbai University HUB.</h1>
        <p>"Your one-stop destination for all university-related information."</p><br><br>

        <div class="buttons-container">
    <a href="musyllabus.html" class="info-btn"  onclick="updateActionCount()">üîç MU-Syllabus</a>
    <a href="http://www.mumresults.in" class="info-btn" onclick="updateActionCount()">üîç MU-Results</a>
    <a href="GPA.HTML" class="info-btn" onclick="updateActionCount()">üîç GPA-Calculator</a>
    <a href="GPApercent.html" class="info-btn" onclick="updateActionCount()">üîç GPA To %</a>
    <a href="progresstracker.html" class="info-btn" onclick="updateActionCount()">üîç Progess Tracker</a> 
        </div>

        <div class="search-results" id="search-results" onclick="updateActionCount()"></div>

        <div class="download-section" onclick="updateActionCount()"><br>
            <a href="notes.html" class="download-btn">
                <i class="fas fa-download"></i> Download Notes & study stuffs
            </a>
        </div>
        <div class="logo-section">
            <img src="/assets/University_of_Mumbai_coat_of_arms.svg" 
                 alt="University of Mumbai Logo" class="university-logo">
        </div>
    </main>

    <div class="visitor-container">
    <div id="visitorCount" class="visitor-count">
        <h2>
            <span id="count">0</span></h2>
            <p style="font-weight: 600;"><i class="fas fa-user"></i> Visits</p>
    </div>
    <div id="actionCount" class="action-count">
        <h2>
            <span id="actionCountValue">0</span>
        </h2>
        <p style="font-weight: 600;"><i class="fas fa-share-alt"></i> Actions</p>
    </div>
    </div>
</body>
<!-- Footer Section -->
<footer class="footer">
    <p>&copy; 2025 MU-HUB.site. All rights reserved.</p>
</footer>

<script>
    function filterResults() {
        const input = document.getElementById('search-input').value.toLowerCase();
        const resultsContainer = document.getElementById('search-results');
        const buttons = [
            { name: 'MU-Syllabus', link: 'musyllabus.html' },
            { name: 'MU-Results', link: 'http://www.mumresults.in' },
            { name: 'MU-Updates', link: 'https://t.me/MumbaiUniversityHub' },
            { name: 'GPA-Calculator', link: 'gpa.html' },
            { name: 'Progress Tracker', link: 'progresstracker.html' },
            { name: 'notes', link: 'notes.html' },
        ];

        // Clear previous results
        resultsContainer.innerHTML = '';

        // Filter buttons based on input
        const filteredButtons = buttons.filter(button => button.name.toLowerCase().includes(input));

        // Display results
        if (filteredButtons.length > 0 && input) {
            resultsContainer.style.display = 'block'; // Show results
            filteredButtons.forEach(button => {
                const linkElement = document.createElement('a');
                linkElement.href = button.link;
                linkElement.textContent = button.name;
                    resultsContainer.appendChild(linkElement);
                });
            } else {
                resultsContainer.style.display = 'none'; // Hide results if no match
            }
        }

        document.addEventListener('click', function(event) {
    const searchBar = document.querySelector('.search-bar');
    const resultsContainer = document.getElementById('search-results');

    // Check if the click is outside the search bar and results
    if (!searchBar.contains(event.target) && !resultsContainer.contains(event.target)) {
        resultsContainer.style.display = 'none'; // Hide the results
    }
});

</script>

<script type="module">
    
// Import necessary Firebase modules


// Initialize Firebase App
const app = initializeApp(firebaseConfig);

// Initialize Firestore
const db = getFirestore(app);

async function updateVisitorCount() {
  // Reference the visitorCount document in the "counts" collection
  const docRef = doc(db, "counts", "visitorCount");

  // Increment the "count" field by 1
  await updateDoc(docRef, {
    count: increment(1)
  });

  // Fetch the updated count from Firestore
  const docSnapshot = await getDoc(docRef);
  if (docSnapshot.exists()) {
    // Update the visitor count display on the page
    document.getElementById("visitorCountValue").innerText = docSnapshot.data().count;
  } else {
    console.log("No such document!");
  }
}

async function updateActionCount() {
  // Reference the actionCount document in the "counts" collection
  const docRef = doc(db, "counts", "actionCount");

  // Increment the "count" field by 1
  await updateDoc(docRef, {
    count: increment(1)
  });

  // Fetch the updated count from Firestore
  const docSnapshot = await getDoc(docRef);
  if (docSnapshot.exists()) {
    // Update the action count display on the page
    document.getElementById("actionCountValue").innerText = docSnapshot.data().count;
  } else {
    console.log("No such document!");
  }
}

// Call the visitor count update function on page load
window.onload = updateVisitorCount;

// Example: Hook the action count function to a button click
document.getElementById("actionButton").addEventListener("click", updateActionCount);


</script>

     
</body>
</html>



